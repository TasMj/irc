Terminating signal intercepted : 2.
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D28: std::vector<Client*, std::allocator<Client*> >::begin() (stl_vector.h:869)
==2657002==    by 0x4126E6: Channel::removeClient(Client*) (Channel.cpp:74)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00690 is 112 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D5C: std::vector<Client*, std::allocator<Client*> >::end() (stl_vector.h:889)
==2657002==    by 0x4126FA: Channel::removeClient(Client*) (Channel.cpp:74)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x414225: bool __gnu_cxx::__ops::_Iter_equals_val<Client* const>::operator()<__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > > >(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (predefined_ops.h:270)
==2657002==    by 0x414175: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > > std::__find_if<__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__ops::_Iter_equals_val<Client* const> >(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__ops::_Iter_equals_val<Client* const>, std::random_access_iterator_tag) (stl_algobase.h:2097)
==2657002==    by 0x413F55: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > > std::__find_if<__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__ops::_Iter_equals_val<Client* const> >(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__ops::_Iter_equals_val<Client* const>) (stl_algobase.h:2112)
==2657002==    by 0x412D01: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > > std::find<__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, Client*>(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, Client* const&) (stl_algo.h:3851)
==2657002==    by 0x41270F: Channel::removeClient(Client*) (Channel.cpp:74)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e07df0 is 0 bytes inside a block of size 8 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x40B35C: std::__new_allocator<Client*>::deallocate(Client**, unsigned long) (new_allocator.h:158)
==2657002==    by 0x40B334: __gnu_cxx::__alloc_traits<std::allocator<Client*>, Client*>::deallocate(std::allocator<Client*>&, Client**, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x4134C7: std::_Vector_base<Client*, std::allocator<Client*> >::_M_deallocate(Client**, unsigned long) (stl_vector.h:387)
==2657002==    by 0x413416: std::_Vector_base<Client*, std::allocator<Client*> >::~_Vector_base() (stl_vector.h:366)
==2657002==    by 0x4129C2: std::vector<Client*, std::allocator<Client*> >::~vector() (stl_vector.h:733)
==2657002==    by 0x411AAE: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x40B0DF: std::__new_allocator<Client*>::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x40B010: __gnu_cxx::__alloc_traits<std::allocator<Client*>, Client*>::allocate(std::allocator<Client*>&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x42326F: std::_Vector_base<Client*, std::allocator<Client*> >::_M_allocate(unsigned long) (stl_vector.h:378)
==2657002==    by 0x422E6B: std::vector<Client*, std::allocator<Client*> >::_M_realloc_insert(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >, Client* const&) (vector.tcc:453)
==2657002==    by 0x422D7C: std::vector<Client*, std::allocator<Client*> >::push_back(Client* const&) (stl_vector.h:1287)
==2657002==    by 0x4244D4: Channel::inviteCmd(Client*, Client*) (invite.cpp:111)
==2657002==    by 0x423763: Server::cmd_invite(Client*, s_message*) (invite.cpp:46)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D5C: std::vector<Client*, std::allocator<Client*> >::end() (stl_vector.h:889)
==2657002==    by 0x41272B: Channel::removeClient(Client*) (Channel.cpp:75)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D5C: std::vector<Client*, std::allocator<Client*> >::end() (stl_vector.h:889)
==2657002==    by 0x4142E2: std::vector<Client*, std::allocator<Client*> >::_M_erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (vector.tcc:178)
==2657002==    by 0x412DE4: std::vector<Client*, std::allocator<Client*> >::erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (stl_vector.h:1533)
==2657002==    by 0x412765: Channel::removeClient(Client*) (Channel.cpp:76)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x414341: std::vector<Client*, std::allocator<Client*> >::_M_erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (vector.tcc:180)
==2657002==    by 0x412DE4: std::vector<Client*, std::allocator<Client*> >::erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (stl_vector.h:1533)
==2657002==    by 0x412765: Channel::removeClient(Client*) (Channel.cpp:76)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x414349: std::vector<Client*, std::allocator<Client*> >::_M_erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (vector.tcc:180)
==2657002==    by 0x412DE4: std::vector<Client*, std::allocator<Client*> >::erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (stl_vector.h:1533)
==2657002==    by 0x412765: Channel::removeClient(Client*) (Channel.cpp:76)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x414350: std::vector<Client*, std::allocator<Client*> >::_M_erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (vector.tcc:181)
==2657002==    by 0x412DE4: std::vector<Client*, std::allocator<Client*> >::erase(__gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >) (stl_vector.h:1533)
==2657002==    by 0x412765: Channel::removeClient(Client*) (Channel.cpp:76)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00698 is 120 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D28: std::vector<Client*, std::allocator<Client*> >::begin() (stl_vector.h:869)
==2657002==    by 0x412782: Channel::removeClient(Client*) (Channel.cpp:79)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00678 is 88 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D5C: std::vector<Client*, std::allocator<Client*> >::end() (stl_vector.h:889)
==2657002==    by 0x412796: Channel::removeClient(Client*) (Channel.cpp:79)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00680 is 96 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x413F04: __gnu_cxx::__normal_iterator<Client**, std::vector<Client*, std::allocator<Client*> > >::__normal_iterator(Client** const&) (stl_iterator.h:1073)
==2657002==    by 0x412D5C: std::vector<Client*, std::allocator<Client*> >::end() (stl_vector.h:889)
==2657002==    by 0x4127C7: Channel::removeClient(Client*) (Channel.cpp:80)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==    by 0x408A95: Server::~Server() (Server.cpp:67)
==2657002==  Address 0x4e00680 is 96 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x4131FC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_mbegin() const (stl_tree.h:737)
==2657002==    by 0x412F24: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_begin() (stl_tree.h:741)
==2657002==    by 0x413D6C: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00658 is 56 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x49C29EA: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413E5B: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1953)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==  Address 0x4e08fd8 is 40 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x49C2A04: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413E5B: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1953)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==  Address 0x4e08fd0 is 32 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 1
==2657002==    at 0x4852037: bcmp (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x49C2A0B: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413E5B: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1953)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==  Address 0x4e08fe0 is 48 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 1
==2657002==    at 0x4852049: bcmp (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x49C2A0B: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413E5B: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1953)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==  Address 0x4e08fe1 is 49 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x412F7C: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_S_left(std::_Rb_tree_node_base*) (stl_tree.h:782)
==2657002==    by 0x413E74: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1954)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fc0 is 16 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x412F5C: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_S_right(std::_Rb_tree_node_base*) (stl_tree.h:790)
==2657002==    by 0x413E86: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_lower_bound(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, std::_Rb_tree_node_base*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:1956)
==2657002==    by 0x413D8D: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2533)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e03108 is 24 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x49C29EE: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413DDC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2535)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==  Address 0x4e08fd8 is 40 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x49C2A01: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413DDC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2535)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==  Address 0x4e08fd0 is 32 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 1
==2657002==    at 0x485204D: bcmp (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x49C2A0B: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::compare(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4067DC: bool std::operator< <char, std::char_traits<char>, std::allocator<char> >(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (basic_string.h:3702)
==2657002==    by 0x4066D0: std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >::operator()(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) const (stl_function.h:408)
==2657002==    by 0x413DDC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_tree.h:2535)
==2657002==    by 0x412C5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::find(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) (stl_map.h:1218)
==2657002==    by 0x41284D: Channel::removeClient(Client*) (Channel.cpp:84)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==  Address 0x4e08fe0 is 48 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493A9E4: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fc0 is 16 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493A9EE: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fc8 is 24 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AB90: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fb8 is 8 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493AB97: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e030f8 is 8 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AB9B: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00658 is 56 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493AD90: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00658 is 56 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AD94: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00660 is 64 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 4
==2657002==    at 0x493ABC1: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fb0 is 0 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493ABC4: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00668 is 72 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493ADA0: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e08fc0 is 16 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493ADB3: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e03108 is 24 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493ADBC: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00668 is 72 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AA8A: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e00658 is 56 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid write of size 4
==2657002==    at 0x493ACA0: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e030f0 is 0 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x49C0474: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >::~basic_string() (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x412B04: std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>::~pair() (stl_pair.h:185)
==2657002==    by 0x4130D8: std::__new_allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >::destroy(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>*) (new_allocator.h:190)
==2657002==    by 0x413012: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_destroy_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:623)
==2657002==    by 0x412FB0: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:633)
==2657002==    by 0x4145F5: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2497)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==  Address 0x4e08fd0 is 32 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid free() / delete / delete[] / realloc()
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x4145F5: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2497)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==  Address 0x4e08fb0 is 0 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x4145FA: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2498)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==  Address 0x4e00670 is 80 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x414602: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2498)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==    by 0x4098CD: std::deque<Client, std::allocator<Client> >::~deque() (stl_deque.h:1028)
==2657002==  Address 0x4e00670 is 80 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AD20: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e24238 is 8 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493ADC8: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e24248 is 24 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493ADE3: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e22c10 is 16 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412ED7: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1937)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493ADEC: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e20f40 is 64 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 4
==2657002==    at 0x493ADF0: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B6E5: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:869)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e24230 is 0 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AD2D: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e20f38 is 56 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AED8: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e22c08 is 8 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412ED7: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1937)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493AEDC: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e20f40 is 64 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
==2657002== 
==2657002== Invalid read of size 4
==2657002==    at 0x493AEE0: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e22c00 is 0 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412ED7: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1937)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid read of size 8
==2657002==    at 0x493AEE5: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e22c08 is 8 bytes inside a block of size 72 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4131DC: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (new_allocator.h:158)
==2657002==    by 0x4131A4: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::deallocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*, unsigned long) (alloc_traits.h:141)
==2657002==    by 0x413079: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_put_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:567)
==2657002==    by 0x412FBD: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_drop_node(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:634)
==2657002==    by 0x412EF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1939)
==2657002==    by 0x412ED7: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase(std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >*) (stl_tree.h:1937)
==2657002==    by 0x412E61: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~_Rb_tree() (stl_tree.h:986)
==2657002==    by 0x412A14: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::~map() (stl_multimap.h:70)
==2657002==    by 0x411AD2: Channel::~Channel() (Channel.cpp:21)
==2657002==    by 0x4089D7: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x413C7C: std::__new_allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(unsigned long, void const*) (new_allocator.h:137)
==2657002==    by 0x413C10: __gnu_cxx::__alloc_traits<std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >, std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::allocate(std::allocator<std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >&, unsigned long) (alloc_traits.h:133)
==2657002==    by 0x413AF1: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_get_node() (stl_tree.h:563)
==2657002==    by 0x413AAC: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_create_node(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:585)
==2657002==    by 0x413A7F: std::_Rb_tree_node<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >* std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node::operator()<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) const (stl_tree.h:531)
==2657002==    by 0x413893: std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_<std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node>(std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&, std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_Alloc_node&) (stl_tree.h:1832)
==2657002==    by 0x4135B9: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_insert_unique(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_tree.h:2177)
==2657002==    by 0x412A5C: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::insert(std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> const&) (stl_map.h:834)
==2657002==    by 0x41226B: Channel::join(Client*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Channel.cpp:41)
==2657002==    by 0x40480E: Client::join(Channel*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >*) (Client.cpp:91)
==2657002==    by 0x419A98: Server::cmd_join(Client*, s_message*) (join.cpp:29)
==2657002== 
==2657002== Invalid write of size 8
==2657002==    at 0x493AEE9: std::_Rb_tree_rebalance_for_erase(std::_Rb_tree_node_base*, std::_Rb_tree_node_base&) (in /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30)
==2657002==    by 0x4145E4: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::_M_erase_aux(std::_Rb_tree_const_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:2494)
==2657002==    by 0x4145B6: std::_Rb_tree<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*>, std::_Select1st<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_tree.h:1219)
==2657002==    by 0x412E24: std::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, Client*, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> > >::erase(std::_Rb_tree_iterator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, Client*> >) (stl_map.h:1101)
==2657002==    by 0x4128E0: Channel::removeClient(Client*) (Channel.cpp:86)
==2657002==    by 0x40438E: Client::~Client() (Client.cpp:27)
==2657002==    by 0x40B824: void std::_Destroy<Client>(Client*) (stl_construct.h:151)
==2657002==    by 0x40B7EE: void std::_Destroy_aux<false>::__destroy<Client*>(Client*, Client*) (stl_construct.h:163)
==2657002==    by 0x40B7AC: void std::_Destroy<Client*>(Client*, Client*) (stl_construct.h:195)
==2657002==    by 0x40B770: void std::_Destroy<Client*, Client>(Client*, Client*, std::allocator<Client>&) (alloc_traits.h:850)
==2657002==    by 0x40B711: std::deque<Client, std::allocator<Client> >::_M_destroy_data_aux(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>) (deque.tcc:871)
==2657002==    by 0x40B562: std::deque<Client, std::allocator<Client> >::_M_destroy_data(std::_Deque_iterator<Client, Client&, Client*>, std::_Deque_iterator<Client, Client&, Client*>, std::allocator<Client> const&) (stl_deque.h:2091)
==2657002==  Address 0x4e20f48 is 72 bytes inside a block of size 184 free'd
==2657002==    at 0x484B8AF: operator delete(void*) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4089E8: Server::~Server() (Server.cpp:65)
==2657002==    by 0x407476: main (main.cpp:40)
==2657002==  Block was alloc'd at
==2657002==    at 0x4849013: operator new(unsigned long) (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2657002==    by 0x4198E9: Server::cmd_join(Client*, s_message*) (join.cpp:26)
==2657002==    by 0x409061: Server::execute_cmd(Client*, s_message*) (Server.cpp:113)
==2657002==    by 0x409432: Server::serverLoop() (Server.cpp:140)
==2657002==    by 0x407465: main (main.cpp:39)
